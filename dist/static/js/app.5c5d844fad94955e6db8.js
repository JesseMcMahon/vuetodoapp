webpackJsonp([1],{A9d2:function(e,t){},EYRc:function(e,t){},HosE:function(e,t,n){e.exports=n.p+"static/img/icon2.a364490.png"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=n("Xxa5"),s=n.n(o),a=n("exGp"),i=n.n(a),c={methods:{logoutUser:function(){localStorage.removeItem("jwt"),this.$router.push("/"),console.log("Success")}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"nav"},[t("p",[this._v("ToDo+")]),this._v(" "),t("a",{staticClass:"nav-item",on:{click:this.logoutUser}},[this._v("Logout")])])},staticRenderFns:[]};var u=n("VU/8")(c,l,!1,function(e){n("EYRc")},"data-v-beed168e",null).exports,d=n("yJ0F"),p=n.n(d),m=n("mtWM"),v=n.n(m),g={mounted:function(){var e=this;return i()(s.a.mark(function t(){var n,r,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("jwt"),r=p.a.decode(n),e.user=r,console.log(e.user),t.next=6,v.a.get("/user/gettodos/"+e.user.email);case 6:o=t.sent,e.todoData=o.data.todos,console.log(e.todoData);case 9:case"end":return t.stop()}},t,e)}))()},name:"TodoPage",data:function(){return{newTodo:"",todoData:[]}},components:{Navbar:u},computed:{remaining:function(){return this.todoData.filter(function(e){return!e.completed}).length}},methods:{created:function(){this.getUserDetails()},addTodo:function(){var e=this;return i()(s.a.mark(function t(){var n,r,o,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("jwt"),r=p.a.decode(n),e.user=r,o=e.newTodo,console.log(o),console.log(e.user),console.log("Hello world"),e.newTodo="",t.next=10,v.a.post("/user/addtodo/"+e.user.email+"/"+o);case 10:a=t.sent,e.todoData=a.data.user.currentTodos;case 12:case"end":return t.stop()}},t,e)}))()},removeTodo:function(e){var t=this;return i()(s.a.mark(function n(){var r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.put("/user/removetodo/"+t.user.email+"/"+e);case 2:r=n.sent,t.todoData=r.data.user.currentTodos;case 4:case"end":return n.stop()}},n,t)}))()},editTodo:function(e){e.currentlyEditing=!0},completeTodo:function(e){},doneEditing:function(e){e.currentlyEditing=!1},getUserDetails:function(){var e=localStorage.getItem("jwt"),t=p.a.decode(e);this.user=t},getTodos:function(){var e=this;return i()(s.a.mark(function t(){var n,r,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("jwt"),r=p.a.decode(n),e.user=r,console.log(e.user),t.next=6,v.a.get("/user/gettodos/"+e.user.email);case 6:o=t.sent,e.todoData=o.data.todos,console.log(e.todoData);case 9:case"end":return t.stop()}},t,e)}))()}},directives:{focus:{inserted:function(e){e.focus()}}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Navbar"),e._v(" "),r("img",{staticClass:"main-image",attrs:{src:n("HosE")}}),e._v(" "),r("div",{staticClass:"container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodo,expression:"newTodo"}],staticClass:"todo-input",attrs:{type:"text",placeholder:"Enter new todo here"},domProps:{value:e.newTodo},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTodo(t)},input:function(t){t.target.composing||(e.newTodo=t.target.value)}}}),e._v(" "),e._l(e.todoData,function(t){return r("div",{key:t._id,staticClass:"todo-item",attrs:{todo:t}},[r("div",{staticClass:"todo-item-left"},[t.currentlyEditing?r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"todo.title"},{name:"focus",rawName:"v-focus"}],staticClass:"todo-item-edit",attrs:{type:"text"},domProps:{value:t.title},on:{blur:function(n){return e.doneEditing(t)},keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.doneEditing(t)},input:function(n){n.target.composing||e.$set(t,"title",n.target.value)}}}):r("div",{staticClass:"todo-item-label",class:{completed:t.isCompleted},on:{dblclick:function(n){return e.editTodo(t)}}},[e._v(e._s(t.title))])]),e._v(" "),r("div",{staticClass:"remove-item",on:{click:function(n){return e.removeTodo(t._id)}}},[e._v(" Complete\n            ")])])}),e._v(" "),r("div",{staticClass:"info-container"},[r("div",{class:{congrats:0==e.remaining}},[e._v("\n                "+e._s(e.remaining)+" tasks remaining\n            ")])])],2)],1)},staticRenderFns:[]};var h=n("VU/8")(g,f,!1,function(e){n("kLw8")},"data-v-8c7d3cbc",null).exports,w={name:"App",components:{TodoPage:h,Navbar:u},data:function(){return{}}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var y=n("VU/8")(w,_,!1,function(e){n("SlyE")},null,null).exports,x=n("/ocq"),C=n("thjQ"),k=n.n(C),E={data:function(){return{login:{email:"",password:""}}},methods:{loginUser:function(){var e=this;return i()(s.a.mark(function t(){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/user/login",e.login);case 3:n=t.sent,r=n.data.token,localStorage.setItem("jwt",r),r&&(k()("Success","Login Successful","success"),e.$router.push("/home")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),k()("Error","Something Went Wrong","error"),console.log(t.t0.response);case 13:case"end":return t.stop()}},t,e,[[0,9]])}))()}}},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-container"},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[n("p",{staticClass:"form-title"},[e._v("Sign In")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.login.email,expression:"login.email"}],staticClass:"input",attrs:{type:"text",id:"email",placeholder:"Email"},domProps:{value:e.login.email},on:{input:function(t){t.target.composing||e.$set(e.login,"email",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}}),e._v(" "),n("p",{staticClass:"go-to-register"},[n("router-link",{staticClass:"go-to-register",attrs:{to:"/register"}},[e._v("Don't have an account yet?")])],1),e._v(" "),n("center",[n("button",{staticClass:"sign-in-btn",attrs:{type:"submit"}},[e._v("\n            Sign in\n          ")])])],1),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome-message"},[t("h1",[this._v("Welcome to ToDo+")]),this._v(" "),t("h2",[t("span",{staticClass:"colored-text"},[this._v("Why ToDo+? Because you're busy.")]),t("br"),this._v("\n        ToDo+ is an intuitive app that will allow you\n          to organize your tasks in a way that leaves you stress free and \n          prepared to attack whatever obstacles may be in your way!\n        ")])])}]};var T={components:{login:n("VU/8")(E,b,!1,function(e){n("Thka")},"data-v-7484e5e4",null).exports}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login"},[t("login")],1)},staticRenderFns:[]},S=n("VU/8")(T,D,!1,null,null,null).exports,U={data:function(){return{register:{name:"",email:"",password:""}}},methods:{registerUser:function(){var e=this;return i()(s.a.mark(function t(){var n,r,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/user/register",e.register);case 3:n=t.sent,console.log(n),(r=n.data.token)?(localStorage.setItem("jwt",r),e.$router.push("/"),k()("Success","Registration Was Successful","success")):k()("Error","Something Went Wrong","error"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),409==(o=t.t0.response).status?k()("Error",o.data.message,"error"):k()("Error",o.data.err.message,"error");case 13:case"end":return t.stop()}},t,e,[[0,9]])}))()}}},$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-container"},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.registerUser(t)}}},[n("p",{staticClass:"form-title"},[e._v("Sign Up")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.register.name,expression:"register.name"}],staticClass:"input",attrs:{type:"text",id:"name",placeholder:"Name",required:""},domProps:{value:e.register.name},on:{input:function(t){t.target.composing||e.$set(e.register,"name",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.register.email,expression:"register.email"}],staticClass:"input",attrs:{type:"email",id:"email",placeholder:"Email",required:""},domProps:{value:e.register.email},on:{input:function(t){t.target.composing||e.$set(e.register,"email",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.register.password,expression:"register.password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.register.password},on:{input:function(t){t.target.composing||e.$set(e.register,"password",t.target.value)}}}),e._v(" "),n("p",[n("router-link",{staticClass:"go-to-login",attrs:{to:"/"}},[e._v("Already have an account?")]),e._v(" "),n("center",[n("button",{staticClass:"sign-up-btn",attrs:{type:"submit"}},[e._v("\n              Sign Up\n            ")])])],1)]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome-message"},[t("h1",[this._v("Welcome to ToDo+")]),this._v(" "),t("h2",[t("span",{staticClass:"colored-text"},[this._v("Why ToDo+? Because you're busy.")]),t("br"),this._v("\n        ToDo+ is an intuitive app that will allow you\n          to organize your tasks in a way that leaves you stress free and \n          prepared to attack whatever obstacles may be in your way!\n        ")])])}]};var N={components:{register:n("VU/8")(U,$,!1,function(e){n("A9d2")},"data-v-75f3a6b0",null).exports}},P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"register"},[t("register")],1)},staticRenderFns:[]},R=n("VU/8")(N,P,!1,null,null,null).exports;r.a.use(x.a);var W=[{path:"/home",name:"TodoPage",component:h},{path:"/",name:"login",component:S},{path:"/register",name:"register",component:R}],j=new x.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:W});v.a.create({baseURL:"http://localhost:4000"});new r.a({el:"#app",router:j,components:{App:y},template:"<App/>"})},SlyE:function(e,t){},Thka:function(e,t){},kLw8:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5c5d844fad94955e6db8.js.map