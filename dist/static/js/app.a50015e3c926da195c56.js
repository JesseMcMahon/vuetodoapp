webpackJsonp([1],{"7jYs":function(e,t){},ANNL:function(e,t){},HosE:function(e,t,r){e.exports=r.p+"static/img/icon2.a364490.png"},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a=r("Xxa5"),s=r.n(a),o=r("exGp"),i=r.n(o),c={methods:{logoutUser:function(){localStorage.removeItem("jwt"),this.$router.push("/")}}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"nav"},[t("p",[this._v("ToDo+")]),this._v(" "),t("a",{staticClass:"nav-item",on:{click:this.logoutUser}},[this._v("Logout")])])},staticRenderFns:[]};var l=r("VU/8")(c,u,!1,function(e){r("ANNL")},"data-v-af6b9424",null).exports,d=r("yJ0F"),p=r.n(d),m=r("mtWM"),v=r.n(m),g={mounted:function(){var e=this;return i()(s.a.mark(function t(){var r,n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("jwt"),n=p.a.decode(r),e.user=n,t.next=5,v.a.get("/user/gettodos/"+e.user.email);case 5:a=t.sent,e.todoData=a.data.todos;case 7:case"end":return t.stop()}},t,e)}))()},name:"TodoPage",data:function(){return{newTodo:"",todoData:[]}},components:{Navbar:l},computed:{remaining:function(){return this.todoData.filter(function(e){return!e.completed}).length}},methods:{created:function(){this.getUserDetails()},addTodo:function(){var e=this;return i()(s.a.mark(function t(){var r,n,a,o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("jwt"),n=p.a.decode(r),e.user=n,a=e.newTodo,e.newTodo="",t.next=7,v.a.post("/user/addtodo/"+e.user.email+"/"+a);case 7:o=t.sent,e.todoData=o.data.user.currentTodos;case 9:case"end":return t.stop()}},t,e)}))()},removeTodo:function(e){var t=this;return i()(s.a.mark(function r(){var n;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.a.put("/user/removetodo/"+t.user.email+"/"+e);case 2:n=r.sent,t.todoData=n.data.user.currentTodos;case 4:case"end":return r.stop()}},r,t)}))()},editTodo:function(e){e.currentlyEditing=!0},doneEditing:function(e){e.currentlyEditing=!1},getUserDetails:function(){var e=localStorage.getItem("jwt"),t=p.a.decode(e);this.user=t},getTodos:function(){var e=this;return i()(s.a.mark(function t(){var r,n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=localStorage.getItem("jwt"),n=p.a.decode(r),e.user=n,t.next=5,v.a.get("/user/gettodos/"+e.user.email);case 5:a=t.sent,e.todoData=a.data.todos;case 7:case"end":return t.stop()}},t,e)}))()}},directives:{focus:{inserted:function(e){e.focus()}}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Navbar"),e._v(" "),n("img",{staticClass:"main-image",attrs:{src:r("HosE")}}),e._v(" "),n("div",{staticClass:"container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodo,expression:"newTodo"}],staticClass:"todo-input",attrs:{type:"text",placeholder:"Enter new todo here"},domProps:{value:e.newTodo},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTodo(t)},input:function(t){t.target.composing||(e.newTodo=t.target.value)}}}),e._v(" "),e._l(e.todoData,function(t){return n("div",{key:t._id,staticClass:"todo-item",attrs:{todo:t}},[n("div",{staticClass:"todo-item-left"},[t.currentlyEditing?n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"todo.title"},{name:"focus",rawName:"v-focus"}],staticClass:"todo-item-edit",attrs:{type:"text"},domProps:{value:t.title},on:{blur:function(r){return e.doneEditing(t)},keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.doneEditing(t)},input:function(r){r.target.composing||e.$set(t,"title",r.target.value)}}}):n("div",{staticClass:"todo-item-label",class:{completed:t.isCompleted},on:{dblclick:function(r){return e.editTodo(t)}}},[e._v(e._s(t.title))])]),e._v(" "),n("div",{staticClass:"remove-item",on:{click:function(r){return e.removeTodo(t._id)}}},[e._v(" Complete\n            ")])])}),e._v(" "),n("div",{staticClass:"info-container"},[n("div",{class:{congrats:0==e.remaining}},[e._v("\n                "+e._s(e.remaining)+" tasks remaining\n            ")])])],2)],1)},staticRenderFns:[]};var h=r("VU/8")(g,f,!1,function(e){r("lWGg")},"data-v-20ed2588",null).exports,w={name:"App",components:{TodoPage:h,Navbar:l},data:function(){return{}}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var y=r("VU/8")(w,_,!1,function(e){r("SlyE")},null,null).exports,x=r("/ocq"),C=r("thjQ"),b=r.n(C),k={data:function(){return{login:{email:"",password:""}}},methods:{loginUser:function(){var e=this;return i()(s.a.mark(function t(){var r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/user/login",e.login);case 3:r=t.sent,n=r.data.token,localStorage.setItem("jwt",n),n&&(b()("Success","Login Successful","success"),e.$router.push("/home")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),b()("Error","Something Went Wrong","error");case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()}}},E={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-container"},[r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[r("p",{staticClass:"form-title"},[e._v("Sign In")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.login.email,expression:"login.email"}],staticClass:"input",attrs:{type:"text",id:"email",placeholder:"Email"},domProps:{value:e.login.email},on:{input:function(t){t.target.composing||e.$set(e.login,"email",t.target.value)}}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}}),e._v(" "),r("p",{staticClass:"go-to-register"},[r("router-link",{staticClass:"go-to-register",attrs:{to:"/register"}},[e._v("Don't have an account yet?")])],1),e._v(" "),r("center",[r("button",{staticClass:"sign-in-btn",attrs:{type:"submit"}},[e._v("\n            Sign in\n          ")])])],1),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome-message"},[t("h1",[this._v("Welcome to ToDo+")]),this._v(" "),t("h2",[t("span",{staticClass:"colored-text"},[this._v("Why ToDo+? Because you're busy.")]),t("br"),this._v("\n        ToDo+ is an intuitive app that will allow you\n          to organize your tasks in a way that leaves you stress free and \n          prepared to attack whatever obstacles may be in your way!\n        ")])])}]};var T={components:{login:r("VU/8")(k,E,!1,function(e){r("7jYs")},"data-v-4356d440",null).exports}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login"},[t("login")],1)},staticRenderFns:[]},S=r("VU/8")(T,N,!1,null,null,null).exports,D={data:function(){return{register:{name:"",email:"",password:""}}},methods:{registerUser:function(){var e=this;return i()(s.a.mark(function t(){var r,n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/user/register",e.register);case 3:r=t.sent,(n=r.data.token)?(localStorage.setItem("jwt",n),e.$router.push("/"),b()("Success","Registration Was Successful","success")):b()("Error","Something Went Wrong","error"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),409==(a=t.t0.response).status?b()("Error",a.data.message,"error"):b()("Error",a.data.err.message,"error");case 12:case"end":return t.stop()}},t,e,[[0,8]])}))()}}},U={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-container"},[r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.registerUser(t)}}},[r("p",{staticClass:"form-title"},[e._v("Sign Up")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.name,expression:"register.name"}],staticClass:"input",attrs:{type:"text",id:"name",placeholder:"Name",required:""},domProps:{value:e.register.name},on:{input:function(t){t.target.composing||e.$set(e.register,"name",t.target.value)}}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.email,expression:"register.email"}],staticClass:"input",attrs:{type:"email",id:"email",placeholder:"Email",required:""},domProps:{value:e.register.email},on:{input:function(t){t.target.composing||e.$set(e.register,"email",t.target.value)}}}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.register.password,expression:"register.password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.register.password},on:{input:function(t){t.target.composing||e.$set(e.register,"password",t.target.value)}}}),e._v(" "),r("p",[r("router-link",{staticClass:"go-to-login",attrs:{to:"/"}},[e._v("Already have an account?")]),e._v(" "),r("center",[r("button",{staticClass:"sign-up-btn",attrs:{type:"submit"}},[e._v("\n              Sign Up\n            ")])])],1)]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome-message"},[t("h1",[this._v("Welcome to ToDo+")]),this._v(" "),t("h2",[t("span",{staticClass:"colored-text"},[this._v("Why ToDo+? Because you're busy.")]),t("br"),this._v("\n        ToDo+ is an intuitive app that will allow you\n          to organize your tasks in a way that leaves you stress free and \n          prepared to attack whatever obstacles may be in your way!\n        ")])])}]};var $={components:{register:r("VU/8")(D,U,!1,function(e){r("NbMS")},"data-v-0ebd876e",null).exports}},P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"register"},[t("register")],1)},staticRenderFns:[]},W=r("VU/8")($,P,!1,null,null,null).exports;n.a.use(x.a);var j=[{path:"/home",name:"TodoPage",component:h},{path:"/",name:"login",component:S},{path:"/register",name:"register",component:W}],R=new x.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:j});v.a.create({baseURL:"http://localhost:4000"});new n.a({el:"#app",router:R,components:{App:y},template:"<App/>"})},NbMS:function(e,t){},SlyE:function(e,t){},lWGg:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a50015e3c926da195c56.js.map