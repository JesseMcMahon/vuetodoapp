webpackJsonp([1],{"9XyC":function(e,t){},EYRc:function(e,t){},HosE:function(e,t,o){e.exports=o.p+"static/img/icon2.a364490.png"},KAjF:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW"),r=o("Xxa5"),s=o.n(r),a=o("exGp"),i=o.n(a),c={methods:{logoutUser:function(){localStorage.removeItem("jwt"),this.$router.push("/"),console.log("Success")}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"nav"},[t("p",[this._v("ToDo+")]),this._v(" "),t("a",{staticClass:"nav-item",on:{click:this.logoutUser}},[this._v("Logout")])])},staticRenderFns:[]};var u=o("VU/8")(c,l,!1,function(e){o("EYRc")},"data-v-beed168e",null).exports,d=o("yJ0F"),p=o.n(d),m=o("mtWM"),v=o.n(m),g={mounted:function(){var e=this;return i()(s.a.mark(function t(){var o,n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("jwt"),n=p.a.decode(o),e.user=n,console.log(e.user),t.next=6,v.a.get("/user/gettodos/"+e.user.email);case 6:r=t.sent,e.todoData=r.data.todos,console.log(e.todoData);case 9:case"end":return t.stop()}},t,e)}))()},name:"TodoPage",data:function(){return{newTodo:"",todoData:[]}},components:{Navbar:u},computed:{remaining:function(){return this.todoData.filter(function(e){return!e.completed}).length}},methods:{created:function(){this.getUserDetails()},addTodo:function(){var e=this;return i()(s.a.mark(function t(){var o,n,r,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("jwt"),n=p.a.decode(o),e.user=n,r=e.newTodo,console.log(r),console.log(e.user),console.log("Hello world"),e.newTodo="",t.next=10,v.a.post("/user/addtodo/"+e.user.email+"/"+r);case 10:a=t.sent,e.todoData=a.data.user.currentTodos;case 12:case"end":return t.stop()}},t,e)}))()},removeTodo:function(e){var t=this;return i()(s.a.mark(function o(){var n;return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,v.a.put("/user/removetodo/"+t.user.email+"/"+e);case 2:n=o.sent,t.todoData=n.data.user.currentTodos;case 4:case"end":return o.stop()}},o,t)}))()},editTodo:function(e){e.currentlyEditing=!0},completeTodo:function(e){},doneEditing:function(e){e.currentlyEditing=!1},getUserDetails:function(){var e=localStorage.getItem("jwt"),t=p.a.decode(e);this.user=t},getTodos:function(){var e=this;return i()(s.a.mark(function t(){var o,n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=localStorage.getItem("jwt"),n=p.a.decode(o),e.user=n,console.log(e.user),t.next=6,v.a.get("/user/gettodos/"+e.user.email);case 6:r=t.sent,e.todoData=r.data.todos,console.log(e.todoData);case 9:case"end":return t.stop()}},t,e)}))()}},directives:{focus:{inserted:function(e){e.focus()}}}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Navbar"),e._v(" "),n("img",{staticClass:"main-image",attrs:{src:o("HosE")}}),e._v(" "),n("div",{staticClass:"container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodo,expression:"newTodo"}],staticClass:"todo-input",attrs:{type:"text",placeholder:"Enter new todo here"},domProps:{value:e.newTodo},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTodo(t)},input:function(t){t.target.composing||(e.newTodo=t.target.value)}}}),e._v(" "),e._l(e.todoData,function(t){return n("div",{key:t._id,staticClass:"todo-item",attrs:{todo:t}},[n("div",{staticClass:"todo-item-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.isCompleted,expression:"todo.isCompleted"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isCompleted)?e._i(t.isCompleted,null)>-1:t.isCompleted},on:{click:function(o){return e.completeTodo(t)},change:function(o){var n=t.isCompleted,r=o.target,s=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&e.$set(t,"isCompleted",n.concat([null])):a>-1&&e.$set(t,"isCompleted",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"isCompleted",s)}}}),e._v(" "),t.currentlyEditing?n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"todo.title"},{name:"focus",rawName:"v-focus"}],staticClass:"todo-item-edit",attrs:{type:"text"},domProps:{value:t.title},on:{blur:function(o){return e.doneEditing(t)},keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.doneEditing(t)},input:function(o){o.target.composing||e.$set(t,"title",o.target.value)}}}):n("div",{staticClass:"todo-item-label",class:{completed:t.isCompleted},on:{dblclick:function(o){return e.editTodo(t)}}},[e._v(e._s(t.title))])]),e._v(" "),n("div",{staticClass:"remove-item",on:{click:function(o){return e.removeTodo(t._id)}}},[e._v("\n                Ã—\n            ")])])}),e._v(" "),n("div",{staticClass:"info-container"},[n("div",{class:{congrats:0==e.remaining}},[e._v("\n                "+e._s(e.remaining)+" tasks remaining\n            ")])])],2)],1)},staticRenderFns:[]};var h=o("VU/8")(g,f,!1,function(e){o("9XyC")},"data-v-6080e915",null).exports,_={name:"App",components:{TodoPage:h}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var y=o("VU/8")(_,w,!1,function(e){o("R9VP")},null,null).exports,C=o("/ocq"),x=o("thjQ"),k=o.n(x),E={data:function(){return{login:{email:"",password:""}}},methods:{loginUser:function(){var e=this;return i()(s.a.mark(function t(){var o,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/user/login",e.login);case 3:o=t.sent,n=o.data.token,localStorage.setItem("jwt",n),n&&(k()("Success","Login Successful","success"),e.$router.push("/home")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),k()("Error","Something Went Wrong","error"),console.log(t.t0.response);case 13:case"end":return t.stop()}},t,e,[[0,9]])}))()}}},b={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-container"},[o("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[o("p",{staticClass:"form-title"},[e._v("Sign In!")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.login.email,expression:"login.email"}],staticClass:"input",attrs:{type:"text",id:"email",placeholder:"Email"},domProps:{value:e.login.email},on:{input:function(t){t.target.composing||e.$set(e.login,"email",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}}),e._v(" "),o("p",{staticClass:"go-to-register"},[o("router-link",{staticClass:"go-to-register",attrs:{to:"/register"}},[e._v("Don't have an account yet?")])],1),e._v(" "),o("center",[o("button",{staticClass:"sign-in-btn",attrs:{type:"submit"}},[e._v("\n            Sign in\n          ")])])],1),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome-message"},[t("h1",[this._v("Welcome to ToDo+")]),this._v(" "),t("h2",[t("span",{staticClass:"colored-text"},[this._v("Why ToDo+? Because you're busy.")]),t("br"),this._v("\n        ToDo+ is an intuitive app that will allow you\n          to organize your tasks in away that leaves you stress free and \n          prepared to attack whatever obstacles may be in your way\n        ")])])}]};var T={components:{login:o("VU/8")(E,b,!1,function(e){o("nduP")},"data-v-05ca6a35",null).exports}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login"},[t("login")],1)},staticRenderFns:[]},$=o("VU/8")(T,D,!1,null,null,null).exports,S={data:function(){return{register:{name:"",email:"",password:""}}},methods:{registerUser:function(){var e=this;return i()(s.a.mark(function t(){var o,n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/user/register",e.register);case 3:o=t.sent,console.log(o),(n=o.data.token)?(localStorage.setItem("jwt",n),e.$router.push("/"),k()("Success","Registration Was Successful","success")):k()("Error","Something Went Wrong","error"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),409==(r=t.t0.response).status?k()("Error",r.data.message,"error"):k()("Error",r.data.err.message,"error");case 13:case"end":return t.stop()}},t,e,[[0,9]])}))()}}},U={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-container"},[o("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.registerUser(t)}}},[o("p",{staticClass:"form-title"},[e._v("Sign Up")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.register.name,expression:"register.name"}],staticClass:"input",attrs:{type:"text",id:"name",placeholder:"Name",required:""},domProps:{value:e.register.name},on:{input:function(t){t.target.composing||e.$set(e.register,"name",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.register.email,expression:"register.email"}],staticClass:"input",attrs:{type:"email",id:"email",placeholder:"Email",required:""},domProps:{value:e.register.email},on:{input:function(t){t.target.composing||e.$set(e.register,"email",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.register.password,expression:"register.password"}],staticClass:"input",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:e.register.password},on:{input:function(t){t.target.composing||e.$set(e.register,"password",t.target.value)}}}),e._v(" "),o("p",[o("router-link",{staticClass:"go-to-login",attrs:{to:"/"}},[e._v("Already have an account?")]),e._v(" "),o("center",[o("button",{staticClass:"sign-up-btn",attrs:{type:"submit"}},[e._v("\n              Sign Up\n            ")])])],1)]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"welcome-message"},[t("h1",[this._v("Welcome to ToDo+")]),this._v(" "),t("h2",[t("span",{staticClass:"colored-text"},[this._v("Why ToDo+? Because you're busy.")]),t("br"),this._v("\n        ToDo+ is an intuitive app that will allow you\n          to organize your tasks in away that leaves you stress free and \n          prepared to attack whatever obstacles may be in your way\n        ")])])}]};var P={components:{register:o("VU/8")(S,U,!1,function(e){o("KAjF")},"data-v-286590ea",null).exports}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"register"},[t("register")],1)},staticRenderFns:[]},R=o("VU/8")(P,N,!1,null,null,null).exports;n.a.use(C.a);var j=[{path:"/home",name:"TodoPage",component:h},{path:"/",name:"login",component:$},{path:"/register",name:"register",component:R}],A=new C.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:j});v.a.create({baseURL:"http://localhost:4000"});new n.a({el:"#app",router:A,components:{App:y},template:"<App/>"})},R9VP:function(e,t){},nduP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c1333ba86e3a77fbe0c2.js.map